import{o as e,c as t,w as a,v as r,a as l,b as n,d as s,e as i}from"./vendor.019d05f9.js";const d={name:"App",data:()=>({inputSql:"",outputMdText:"",mdTableInfoText:"数据表说明：...\r\r",mdTableHeaderText:"| 字段 | 类型 | 是否为空 | 默认值 | 说明 |\r| :--: | :--: | :--: | :--: | :--: |\r",mdTableContentText:"",mdTableUpdateLogText:"\r\r数据表更新日志\r\r| 修改内容 | 修改时间 | 修订人 |\r| :--: | :--: | :--: |\r| 修改了xxx | 2021-6-8 | 张三 |",isCreateMdTableHeader:!0,isCreateMdTableOthers:!0}),watch:{inputSql:function(e,t){this.handleSql(e)},isCreateMdTableHeader:function(e,t){this.getResultOutputText()},isCreateMdTableOthers:function(e,t){this.getResultOutputText()}},mounted(){},methods:{handleSql:function(e){var t=e.split("\t");t=t.map(this.handleSqlItemLevelOne),this.getSQLProperties(t)},handleSqlItemLevelOne:function(e,t){var a=e.split("] ");if(2==(a=a.map(this.handleSqlItemLevelTwo)).length){var r=a.pop();if(-1!=r.indexOf("(")&&-1!=r.indexOf(")")){var l=(r=(r=r.trimRight()).trimRight(",")).split(") ");l=l.map((e=>{var t=e;return-1!=t.indexOf("(")&&(t+=")"),t})),a=a.concat(l)}}return a},handleSqlItemLevelTwo:function(e,t){var a=e;switch(t){case 0:a=a.replace("[","");break;case 1:a=(a=a.replace("[","")).replace("]","");break;case 2:a=(a=a.trimRight()).trimRight(",")}return a},getSQLProperties:function(e){var t=[];for(var a in e){var r=e[a];if(r.length&&r.length>=3){var l=new Object;for(var n in r){var s=r[n];switch(Number(n)){case 0:l.name=s;break;case 1:l.type=s;break;case 2:l.isNull=-1==s.indexOf("NOT NULL"),l.desc=-1!=s.indexOf("IDENTITY(1,1)")?"[自增]":""}}t.push(l)}}this.getMdText(t)},getMdText:function(e){var t=[];for(var a in e){var r=e[a],l="| "+r.name+" "+("| "+r.type+" ")+("| "+(r.isNull?"是":"否")+" ")+"|  "+("| "+r.desc+" |");t.push(l)}this.mdTableContentText=t.join("\r"),this.getResultOutputText()},getResultOutputText:function(){var e=this.isCreateMdTableHeader?this.mdTableHeaderText+this.mdTableContentText:this.mdTableContentText,t=this.isCreateMdTableOthers?this.mdTableInfoText+e+this.mdTableUpdateLogText:e;this.outputMdText=t}}},u=s("生成表头 "),o=s("生成其他信息 ");d.render=function(s,i,d,h,p,T){return e(),t("div",null,[a(l("textarea",{"onUpdate:modelValue":i[1]||(i[1]=e=>p.inputSql=e),class:"sql_input",placeholder:"请输入SQL语句"},null,512),[[r,p.inputSql]]),a(l("input",{class:"create_header_checkbox",type:"checkbox","onUpdate:modelValue":i[2]||(i[2]=e=>p.isCreateMdTableHeader=e)},null,512),[[n,p.isCreateMdTableHeader]]),u,a(l("input",{class:"create_header_checkbox",type:"checkbox","onUpdate:modelValue":i[3]||(i[3]=e=>p.isCreateMdTableOthers=e)},null,512),[[n,p.isCreateMdTableOthers]]),o,a(l("textarea",{"onUpdate:modelValue":i[4]||(i[4]=e=>p.outputMdText=e),class:"sql_output"},null,512),[[r,p.outputMdText]])])};i(d).mount("#app");
